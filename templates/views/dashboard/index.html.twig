{% extends 'layouts/dashboard.html.twig' %}

{% block title %}
Dashboard
{% endblock %}

{% block body %}

{# <style>
    .example-wrapper {
        margin: 1em auto;
        max-width: 800px;
        width: 95%;
        font: 18px/1.5 sans-serif;
    }

    .example-wrapper code {
        background: #F5F5F5;
        padding: 2px 6px;
    }
</style> #}

<section id="dashboard-ecommerce">
    <div class="row match-height">
        <!-- Medal Card -->
        <div class="col-xl-4 col-md-6 col-12">
            <div class="card card-congratulation-medal">
                <div class="card-body">
                    <h5>
                        Bienvenue {{ app.user.firstname }} !
                    </h5>
                    <p class="card-text font-small-3">
                        La SAFER est à vous !
                    </p>
                </div>
            </div>
        </div>
        <!--/ Medal Card -->

        <!-- Statistics Card -->
        <div class="col-xl-8 col-md-6 col-12">
            <div class="card card-statistics">
                <div class="card-body statistics-body">
                    <div class="row">
                        <div class="col-xl-3 col-sm-6 col-12 mb-2 mb-xl-0">
                            <div class="media">
                                <div class="avatar bg-light-primary mr-2">
                                    <div class="avatar-content">
                                        <i data-feather="briefcase" class="avatar-icon"></i>
                                    </div>
                                </div>
                                <div class="media-body my-auto">
                                    <h4 class="font-weight-bolder mb-0">
                                        {{totalCategories}}
                                    </h4>
                                    <p class="card-text font-small-3 mb-0">
                                        Nombre de catégories
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-sm-6 col-12 mb-2 mb-xl-0">
                            <div class="media">
                                <div class="avatar bg-light-info mr-2">
                                    <div class="avatar-content">
                                        <i data-feather="user" class="avatar-icon"></i>
                                    </div>
                                </div>
                                <div class="media-body my-auto">
                                    <h4 class="font-weight-bolder mb-0">
                                        {{totalUser}}
                                    </h4>
                                    <p class="card-text font-small-3 mb-0">
                                        Nombre d'utilisateur
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-sm-6 col-12 mb-2 mb-sm-0">
                            <div class="media">
                                <div class="avatar bg-light-danger mr-2">
                                    <div class="avatar-content">
                                        <i data-feather="box" class="avatar-icon"></i>
                                    </div>
                                </div>
                                <div class="media-body my-auto">
                                    <h4 class="font-weight-bolder mb-0">
                                        {{totalProperties}}
                                    </h4>
                                    <p class="card-text font-small-3 mb-0">
                                        Biens ajoutés
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-sm-6 col-12">
                            <div class="media">
                                <div class="avatar bg-light-success mr-2">
                                    <div class="avatar-content">
                                        <i data-feather="dollar-sign" class="avatar-icon"></i>
                                    </div>
                                </div>
                                <div class="media-body my-auto">
                                    <h4 class="font-weight-bolder mb-0">
                                        {{totalResearches}}
                                    </h4>
                                    <p class="card-text font-small-3 mb-0">
                                        Bien recherchés
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--/ Statistics Card -->
    </div>

    <div class="row match-height">
        <div class="mx-2 mt-2 mb-1">
            <h3>TOP 5 DES BIENS FAVORIS</h3>
        </div>
        <span class="divider"></span>
        <!-- Company Table Card -->
        <div class="col-lg-12 col-12">
            <div class="card card-company-table">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Titre</th>
                                    <th>Surface</th>
                                    <th>Prix</th>
                                    <th>Type</th>
                                    <th>Porteur</th>
                                </tr>
                            </thead>
                            {% for property in properties %}
                            <tr>
                                <td>{{ loop.index }}</td>
                                <td>{{ property.title }}</td>
                                <td>{{ property.surface }} m²</td>
                                <td>{{ property.price | format_currency('EUR') }}</td>
                                <td>{{ property.type }}</td>
                                <td>{{ property.owner }}</td>
                            </tr>
                            {% else %}
                            <tr>
                                <td colspan="11">no records found</td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!--/ Company Table Card -->

    </div>
</section>

{% endblock %}